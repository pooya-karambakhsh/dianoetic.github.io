@import "variables";
@use "sass:color";

// ==============================
// Mobile Styles â€“ Dianoetic
// ==============================

@media (max-width: $bp-mobile) {
  .site-header {
    .main-nav {
      position: fixed;
      top: 0;
      right: 0;
      height: 100vh;
      width: 240px;
      background: $primary;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1000;
      padding-top: 5rem;

      ul {
        display: flex;
        flex-direction: column;
        margin: 0;
        padding: 0;

        li {
          border-bottom: 1px solid rgba($accent, 0.2);

          a {
            display: block;
            padding: $space-4 $space-5;
            font-size: 1rem;
            min-height: $tap-target-min; // WCAG tap target
            line-height: 1.4;
            color: $accent;
            text-decoration: none;
            font-weight: 500;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;

            &:hover {
              color: adjust-color($accent, $lightness: -10%);
            }
          }
        }

        li:not(:last-child) {
          margin-bottom: $space-1; // subtle breathing room
        }
      }
    }

    .main-nav.open {
      transform: translateX(0);
    }

    .nav-toggle {
      display: flex;
    }

    .nav-backdrop {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba($accent, 0.1);
      z-index: 999;
    }

    .nav-backdrop.active {
      display: block;
    }
  }
}
